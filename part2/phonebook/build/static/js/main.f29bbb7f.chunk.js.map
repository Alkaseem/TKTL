{"version":3,"sources":["Filter.js","services.js","PersonForm.js","Persons.js","Notifiactions.js","App.js","index.js"],"names":["Filter","searched","setSearch","type","onChange","e","target","value","baseURL","getAll","a","axios","get","response","data","console","log","addPerson","newPerson","post","updatePerson","id","newObj","put","deletePerson","delete","PersonForm","setPersons","persons","updateNumber","setMessage","useState","newName","setName","newNumber","setNewNumber","handleSubmit","preventDefault","name","number","person","find","p","editing","option","window","confirm","personService","concat","alert","msg","message","onSubmit","Persons","filterSearch","handleDelete","map","n","idx","onClick","Notifiactions","setTimeout","className","App","useEffect","getAllPersons","fetchData","filter","indexOf","per","updateP","modifyPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f29bbb7f.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Filter({ searched, setSearch }) {\n  const handleSearchChange = (e) => {\n    setSearch(e.target.value);\n  };\n\n  return (\n    <div>\n      <div>\n        Filter shown with :{\" \"}\n        <input type=\"search\" onChange={handleSearchChange} value={searched} />\n      </div>\n    </div>\n  );\n}\n\nexport default Filter;\n","import axios from \"axios\";\n\nconst baseURL = \"http://localhost:3001/api/persons\";\n// const baseURL = \"/api/persons\";\n\nconst getAll = async () => {\n  try {\n    const response = await axios.get(baseURL);\n    return response.data;\n  } catch (error) {\n    console.log(\"ERROR: \", error);\n  }\n};\n\nconst addPerson = async (newPerson) => {\n  try {\n    const response = await axios.post(`${baseURL}/add`, newPerson);\n    return response.data;\n  } catch (error) {\n    console.log(\"ERROR: \", error);\n    return error;\n  }\n};\n\nconst updatePerson = async (id, newObj) => {\n  try {\n    const response = await axios.put(`${baseURL}/${id}/edit`, newObj);\n    return response.data;\n  } catch (error) {\n    console.log(\"ERROR: \", error);\n  }\n};\n\nconst deletePerson = async (id) => {\n  try {\n    const response = await axios.delete(`${baseURL}/${id}/delete`);\n    return response.data;\n  } catch (error) {\n    console.log(\"ERROR: \", error);\n  }\n};\n\nexport default { getAll, addPerson, deletePerson, updatePerson };\n","import React, { useState } from \"react\";\n\nimport personService from \"./services\";\n\nfunction PersonForm({ setPersons, persons, updateNumber, setMessage }) {\n  const [newName, setName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    let newObj = { name: newName, number: newNumber };\n    const person = persons.find((p) => p.name === newObj.name);\n    let editing = false;\n    if (person && person.name === newObj.name) {\n      const option = window.confirm(\n        `${person.name} is already added to the phonebook, replace the old number with new a number`\n      );\n      editing = option;\n    }\n    if (editing) {\n      updateNumber(newObj);\n    } else {\n      const data = await personService.addPerson(newObj);\n      if (data) {\n        setPersons(persons.concat(data));\n        setMessage({ alert: \"success\", msg: `Added ${newObj.name}` });\n      } else {\n        setMessage({ alert: \"error\", msg: data.message });\n      }\n    }\n    setName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const handleNameChnage = (e) => {\n    setName(e.target.value);\n  };\n\n  const handlePhoneChnage = (e) => {\n    setNewNumber(e.target.value);\n  };\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          name:{\" \"}\n          <input type=\"text\" value={newName} onChange={handleNameChnage} />\n          <div>\n            number:{\" \"}\n            <input type=\"text\" value={newNumber} onChange={handlePhoneChnage} />\n          </div>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default PersonForm;\n","import React from \"react\";\n\nfunction Persons({ filterSearch, handleDelete }) {\n  return (\n    <div>\n      {filterSearch.map((n, idx) => (\n        <p key={idx}>\n          {n.name} {n.number}{\" \"}\n          <button onClick={() => handleDelete(n)}>delete</button>\n        </p>\n      ))}\n    </div>\n  );\n}\n\nexport default Persons;\n","import React from \"react\";\n\nimport \"./Notifiacation.css\";\n\nfunction Notifiactions({ message, setMessage }) {\n  setTimeout(() => {\n    setMessage(\"\");\n  }, 2000);\n  return (\n    <div>\n      <h2 className={`alert ${message.alert}`}>{message.msg}</h2>\n    </div>\n  );\n}\n\nexport default Notifiactions;\n","import React, { useState, useEffect } from \"react\";\n\nimport Filter from \"./Filter\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport Notification from \"./Notifiactions\";\n\nimport personService from \"./services\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [searched, setSearch] = useState(\"\");\n  const [message, setMessage] = useState({\n    msg: \"\",\n    alert: \"\",\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const getAllPersons = await personService.getAll();\n      setPersons(getAllPersons);\n    };\n    fetchData();\n  }, []);\n\n  const filterSearch = persons.filter((person) => {\n    return person.name.indexOf(searched) !== -1;\n  });\n\n  const updateNumber = async (per) => {\n    const person = persons.find((p) => p.name === per.name);\n    const updateP = { ...person, number: per.number };\n\n    await personService.updatePerson(person.id, updateP);\n\n    const getAllPersons = await personService.getAll();\n\n    setPersons(getAllPersons);\n    setMessage({\n      alert: \"warning\",\n      msg: `${updateP.name} number is replaced with the new number`,\n    });\n  };\n\n  const handleDelete = async (data) => {\n    const option = window.confirm(`Delete ${data.name} ?`);\n    if (option) {\n      await personService.deletePerson(data.id);\n      const modifyPersons = persons.filter((p) => p.id !== data.id);\n      setPersons(modifyPersons);\n      setMessage({ alert: \"error\", msg: `${data.name} is deleted` });\n    }\n  };\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={message} setMessage={setMessage} />\n      {/* filter */}\n      <Filter searched={searched} setSearch={setSearch} />\n\n      <h2>Add a new</h2>\n\n      {/* Form */}\n      <PersonForm\n        setPersons={setPersons}\n        updateNumber={updateNumber}\n        persons={persons}\n        setMessage={setMessage}\n      />\n\n      <h2>Numbers</h2>\n\n      {/* Persons */}\n      <Persons filterSearch={filterSearch} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}